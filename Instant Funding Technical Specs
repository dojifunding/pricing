INSTANT FUNDING
Technical Implementation Specification
Version 1.0 | November 2024
ðŸš€ Immediate Capital Access for Experienced Traders
â€ƒ
1. EXECUTIVE SUMMARY
Instant Funding is a revolutionary evaluation type that provides immediate capital access to traders without traditional evaluation phases. This system targets experienced, conservative traders who can demonstrate risk management capabilities from day one.
Key Differentiators:
â€¢	Zero evaluation period - immediate funded account
â€¢	Fully customizable risk parameters (2-6% daily loss, 4-10% max loss)
â€¢	Dynamic pricing based on actual risk exposure
â€¢	Strict protection rules to prevent exploitation
2. SYSTEM ARCHITECTURE
2.1 High-Level Architecture
 â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”       â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”       â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚   Web Frontend      â”‚â—„â”€â”€â”€â”€â”€â–ºâ”‚   API Gateway    â”‚â—„â”€â”€â”€â”€â”€â–ºâ”‚   Auth Service  â”‚ â”‚   (React/Next.js)   â”‚       â”‚   (Kong/Nginx)   â”‚       â”‚   (Auth0/JWT)   â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜       â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜       â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                                        â”‚                     â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                     â–¼                  â–¼                  â–¼         â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”         â”‚  Trading Service â”‚ â”‚  Pricing Engine  â”‚ â”‚  Risk Monitoring â”‚         â”‚  (Node.js)       â”‚ â”‚  (Python)        â”‚ â”‚  (Go)            â”‚         â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                     â”‚                  â”‚                  â”‚                     â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                                        â–¼                     â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                     â”‚         PostgreSQL Database          â”‚                     â”‚         + Redis Cache                â”‚                     â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
2.2 Core Components
3. CONFIGURATION PARAMETERS
Parameter	Range	Default	Type
Account Size	$5K - $200K	$25K	Enum
Daily Loss	2% - 6%	3%	Float
Max Loss	4% - 10%	6%	Float
Profit Split	50% - 80%	50%	Integer
Drawdown Type	Static/Trailing/EoD	Static	Enum
4. PRICING ALGORITHM
4.1 Base Pricing Structure
const BASE_PRICES = {     5000: 99,     10000: 149,     25000: 299,     50000: 499,     100000: 799,     200000: 1299 };
4.2 Dynamic Pricing Calculation
function calculateInstantFundingPrice(config) {     const basePrice = BASE_PRICES[config.accountSize];     let riskAdjustment = 0;     let splitAdjustment = 0;          // Daily Loss Risk Adjustments     if (config.dailyLoss > 4) {         riskAdjustment += (config.dailyLoss - 4) * 80; // +$80 per % above 4%     } else if (config.dailyLoss < 3) {         riskAdjustment -= (3 - config.dailyLoss) * 50; // -$50 per % below 3%     }          // Max Loss Risk Adjustments     if (config.maxLoss > 8) {         riskAdjustment += (config.maxLoss - 8) * 60; // +$60 per % above 8%     } else if (config.maxLoss < 6) {         riskAdjustment -= (6 - config.maxLoss) * 40; // -$40 per % below 6%     }          // Drawdown Type Adjustments     switch (config.drawdownType) {         case 'trailing':             riskAdjustment += 50;             break;         case 'eod':             riskAdjustment -= 30;             break;     }          // Profit Split Adjustment     splitAdjustment = (config.profitSplit - 50) * 5; // +$5 per % above 50%          // Calculate final price (minimum 50% of base)     const finalPrice = Math.max(         basePrice + riskAdjustment + splitAdjustment,         basePrice * 0.5     );          return {         basePrice,         riskAdjustment,         splitAdjustment,         finalPrice: Math.round(finalPrice)     }; }
5. DATABASE SCHEMA
-- Main evaluation table for Instant Funding accounts CREATE TABLE instant_funding_evaluations (     id UUID PRIMARY KEY DEFAULT gen_random_uuid(),     user_id UUID NOT NULL REFERENCES users(id),     account_number VARCHAR(20) UNIQUE NOT NULL,          -- Configuration     account_size DECIMAL(10, 2) NOT NULL,     daily_loss_percent DECIMAL(3, 1) NOT NULL CHECK (daily_loss_percent BETWEEN 2 AND 6),     max_loss_percent DECIMAL(3, 1) NOT NULL CHECK (max_loss_percent BETWEEN 4 AND 10),     profit_split INTEGER NOT NULL CHECK (profit_split BETWEEN 50 AND 80),     drawdown_type VARCHAR(10) NOT NULL CHECK (drawdown_type IN ('static', 'trailing', 'eod')),          -- Pricing     base_price DECIMAL(8, 2) NOT NULL,     risk_adjustment DECIMAL(8, 2) NOT NULL,     split_adjustment DECIMAL(8, 2) NOT NULL,     final_price DECIMAL(8, 2) NOT NULL,          -- Status     status VARCHAR(20) NOT NULL DEFAULT 'active',     created_at TIMESTAMP NOT NULL DEFAULT NOW(),     activated_at TIMESTAMP,     terminated_at TIMESTAMP,          -- Trading Metrics     current_balance DECIMAL(10, 2) NOT NULL,     peak_balance DECIMAL(10, 2) NOT NULL,     daily_loss_limit DECIMAL(10, 2) NOT NULL,     max_loss_limit DECIMAL(10, 2) NOT NULL,          -- Risk Metrics     risk_score DECIMAL(4, 2),     best_day_percentage DECIMAL(5, 2),     total_trades INTEGER DEFAULT 0,     profitable_trades INTEGER DEFAULT 0,          -- Compliance     ip_address INET NOT NULL,     ip_locked_until TIMESTAMP,     kyc_verified BOOLEAN DEFAULT FALSE,     kyc_verified_at TIMESTAMP,          -- Indexes     INDEX idx_user_id (user_id),     INDEX idx_status (status),     INDEX idx_created_at (created_at),     INDEX idx_risk_score (risk_score) );
-- Trading activity monitoring CREATE TABLE instant_funding_trades (     id UUID PRIMARY KEY DEFAULT gen_random_uuid(),     evaluation_id UUID NOT NULL REFERENCES instant_funding_evaluations(id),     trade_id VARCHAR(50) UNIQUE NOT NULL,          -- Trade Details     symbol VARCHAR(20) NOT NULL,     side VARCHAR(4) NOT NULL CHECK (side IN ('BUY', 'SELL')),     quantity DECIMAL(10, 4) NOT NULL,     entry_price DECIMAL(10, 4) NOT NULL,     exit_price DECIMAL(10, 4),     stop_loss DECIMAL(10, 4) NOT NULL, -- Required for all trades          -- Timing     opened_at TIMESTAMP NOT NULL,     closed_at TIMESTAMP,     duration_seconds INTEGER,          -- P&L     profit_loss DECIMAL(10, 2),     profit_loss_percent DECIMAL(5, 2),     commission DECIMAL(10, 2),     swap DECIMAL(10, 2),          -- Validation     has_stop_loss BOOLEAN NOT NULL DEFAULT TRUE,     is_news_trade BOOLEAN DEFAULT FALSE,     is_weekend_hold BOOLEAN DEFAULT FALSE,          INDEX idx_evaluation_id (evaluation_id),     INDEX idx_opened_at (opened_at),     INDEX idx_symbol (symbol) );
6. API ENDPOINTS
6.1 Configuration & Purchase
POST /api/instant-funding/calculate-price {     "accountSize": 25000,     "dailyLoss": 3.5,     "maxLoss": 6,     "profitSplit": 60,     "drawdownType": "static" }  Response: {     "basePrice": 299,     "riskAdjustment": 0,     "splitAdjustment": 50,     "finalPrice": 349,     "riskScore": 1.42,     "estimatedMonthlyPayout": 3500 }
POST /api/instant-funding/purchase {     "configuration": {         "accountSize": 25000,         "dailyLoss": 3.5,         "maxLoss": 6,         "profitSplit": 60,         "drawdownType": "static"     },     "paymentMethodId": "pm_xyz123" }  Response: {     "evaluationId": "eval_abc123",     "accountNumber": "IF25K00001",     "credentials": {         "server": "mt5.dojifunding.com",         "login": "50001234",         "password": "SecurePass123",         "investor": "ReadOnly456"     },     "limits": {         "dailyLossLimit": 875.00,         "maxLossLimit": 1500.00,         "minPayoutAmount": 750.00     } }
6.2 Real-Time Monitoring
GET /api/instant-funding/{evaluationId}/metrics  Response: {     "currentBalance": 25432.50,     "peakBalance": 26100.00,     "dailyDrawdown": 267.50,     "maxDrawdown": 567.50,     "riskScore": 1.42,     "bestDayPercentage": 45.2,     "status": "active",     "alerts": [         {             "type": "WARNING",             "message": "Approaching 50% best day rule limit",             "timestamp": "2024-11-26T14:32:00Z"         }     ] }
7. PROTECTION RULES IMPLEMENTATION
7.1 Mandatory Trading Rules
Rule	Implementation
50% Best Day Rule	No single trading day can represent more than 50% of total profit
News Trading Ban	No positions 5 minutes before/after high-impact news events
Stop Loss Required	Every position must have stop loss at entry
IP Lock	Same IP required for first 30 days
Minimum Payout	3% profit required for payout request
7.2 Risk Score Calculation
function calculateRiskScore(evaluation) {     const { profitSplit, dailyLoss, maxLoss } = evaluation;          // Risk Score Formula for Instant Funding     const riskScore = (profitSplit / 100) /                       ((dailyLoss / 100) * (maxLoss / 100));          // Apply monitoring levels based on score     if (riskScore < 0.5) {         return {             score: riskScore,             level: 'HIGH_RISK',             monitoring: 'ENHANCED',             actions: [                 'Enable real-time trade monitoring',                 'Reduce daily limits by 20%',                 'Require manual payout approval',                 'Alert risk management team'             ]         };     } else if (riskScore > 1.5) {         return {             score: riskScore,             level: 'LOW_RISK',             monitoring: 'STANDARD',             benefits: [                 'Fast-track payout processing',                 'Increased scaling opportunity (+2x)',                 'Reduced fees on next challenge'             ]         };     }          return {         score: riskScore,         level: 'MEDIUM_RISK',         monitoring: 'STANDARD'     }; }
8. REAL-TIME MONITORING SYSTEM
8.1 WebSocket Implementation
// WebSocket server for real-time monitoring const WebSocket = require('ws'); const Redis = require('redis');  class InstantFundingMonitor {     constructor() {         this.wss = new WebSocket.Server({ port: 8080 });         this.redis = Redis.createClient();         this.activeConnections = new Map();     }          async handleConnection(ws, evaluationId) {         this.activeConnections.set(evaluationId, ws);                  // Subscribe to evaluation updates         await this.redis.subscribe(`evaluation:${evaluationId}`);                  // Send real-time updates         this.redis.on('message', (channel, message) => {             const update = JSON.parse(message);                          // Check for critical events             if (this.isCriticalEvent(update)) {                 this.triggerAlert(evaluationId, update);             }                          // Send to client             ws.send(JSON.stringify({                 type: 'METRIC_UPDATE',                 data: update             }));         });     }          isCriticalEvent(update) {         return (             update.dailyDrawdownPercent > 80 ||             update.maxDrawdownPercent > 80 ||             update.bestDayPercent > 45 ||             update.suspiciousActivity === true         );     }          async triggerAlert(evaluationId, update) {         // Implement alert logic         await this.notifyRiskTeam(evaluationId, update);         await this.logCriticalEvent(evaluationId, update);                  if (update.requiresHalt) {             await this.haltTrading(evaluationId);         }     } }
8.2 Kill Switch Implementation
class KillSwitchManager {     constructor() {         this.thresholds = {             dailyFirmLoss: 0.02,      // 2% of total firm capital             correlationCount: 20,      // 20 correlated accounts             drawdownCascade: 0.30     // 30% accounts in drawdown         };     }          async checkKillSwitches() {         const metrics = await this.getFirmMetrics();                  // Check daily firm loss         if (metrics.dailyLossPercent > this.thresholds.dailyFirmLoss) {             return this.executeFirmHalt('DAILY_LOSS_EXCEEDED');         }                  // Check account correlation         const correlations = await this.checkCorrelations();         if (correlations.count > this.thresholds.correlationCount) {             return this.suspendAccounts(correlations.accountIds);         }                  // Check drawdown cascade         if (metrics.drawdownPercent > this.thresholds.drawdownCascade) {             return this.enableReviewMode();         }                  return { status: 'NORMAL' };     }          async executeFirmHalt(reason) {         // Halt all trading immediately         await this.broker.haltAllTrading();                  // Notify all stakeholders         await this.notifications.sendCriticalAlert({             type: 'FIRM_HALT',             reason,             timestamp: new Date(),             action: 'All trading halted pending review'         });                  // Log for audit         await this.audit.logCriticalEvent('KILL_SWITCH_TRIGGERED', {             reason,             metrics: await this.getFirmMetrics()         });                  return { status: 'HALTED', reason };     } }
9. TESTING STRATEGY
9.1 Unit Tests
describe('InstantFundingPricing', () => {     test('calculates correct price for default configuration', () => {         const config = {             accountSize: 25000,             dailyLoss: 3,             maxLoss: 6,             profitSplit: 50,             drawdownType: 'static'         };                  const result = calculateInstantFundingPrice(config);                  expect(result.basePrice).toBe(299);         expect(result.riskAdjustment).toBe(0);         expect(result.splitAdjustment).toBe(0);         expect(result.finalPrice).toBe(299);     });          test('applies risk adjustment for high daily loss', () => {         const config = {             accountSize: 25000,             dailyLoss: 6, // Maximum allowed             maxLoss: 10,  // Maximum allowed             profitSplit: 50,             drawdownType: 'static'         };                  const result = calculateInstantFundingPrice(config);                  expect(result.riskAdjustment).toBe(320); // (6-4)*80 + (10-8)*60         expect(result.finalPrice).toBe(619);     }); });
9.2 Integration Tests
describe('InstantFunding E2E', () => {     test('complete purchase flow', async () => {         // 1. Calculate price         const priceResponse = await api.post('/instant-funding/calculate-price', {             accountSize: 25000,             dailyLoss: 3.5,             maxLoss: 6,             profitSplit: 60,             drawdownType: 'static'         });                  expect(priceResponse.status).toBe(200);         expect(priceResponse.data.finalPrice).toBeGreaterThan(0);                  // 2. Create purchase         const purchaseResponse = await api.post('/instant-funding/purchase', {             configuration: priceResponse.data.configuration,             paymentMethodId: 'test_payment_method'         });                  expect(purchaseResponse.status).toBe(201);         expect(purchaseResponse.data.accountNumber).toMatch(/^IF\d+/);                  // 3. Verify account creation         const metricsResponse = await api.get(             `/instant-funding/${purchaseResponse.data.evaluationId}/metrics`         );                  expect(metricsResponse.status).toBe(200);         expect(metricsResponse.data.status).toBe('active');     }); });
10. DEPLOYMENT CHECKLIST
Pre-Production:
â€¢	Database migrations completed and verified
â€¢	All API endpoints tested with >90% coverage
â€¢	WebSocket monitoring system operational
â€¢	Kill switches tested in staging
â€¢	Load testing completed (1000+ concurrent users)
â€¢	Security audit passed
Production:
â€¢	Redis cache configured with persistence
â€¢	Monitoring dashboards configured (Grafana/Datadog)
â€¢	Alert thresholds configured
â€¢	Backup and recovery procedures documented
â€¢	Rate limiting configured (100 req/min per IP)
â€¢	CDN configured for static assets
11. PERFORMANCE REQUIREMENTS
Metric	Target	Critical
API Response Time	< 200ms	< 500ms
Trade Processing	< 50ms	< 100ms
System Uptime	99.99%	99.9%
Concurrent Users	10,000+	1,000
12. CONCLUSION
The Instant Funding system represents a paradigm shift in prop trading evaluation. By eliminating the traditional evaluation phase while implementing robust protection mechanisms, we create a unique value proposition for experienced traders.
The dynamic pricing model ensures profitability while the real-time monitoring system protects firm capital. With proper implementation of the specifications detailed in this document, the system will provide:
â€¢	Immediate revenue generation from day one
â€¢	Automated risk management reducing manual oversight
â€¢	Scalable architecture supporting 10,000+ concurrent traders
â€¢	Complete audit trail for regulatory compliance
END OF DOCUMENT
